import{S as B,i as F,s as T,e as _,t as P,k as D,a as g,K as J,b as A,c as I,d as y,I as ne,A as j,f as Q,J as se,n as O,g as H,C as le,h as L,x as W,a5 as oe,y as K,B as N,G as ae,r as G,j as re,m as ce,o as R,p as ue,l as V,q as X,a6 as he,D as de,F as fe}from"./vendor.530942b5.js";import{l as me,g as q,m as ge,p as ve}from"./index.08edfb58.js";var Y={exports:{}};/*!
 * Colcade v0.2.0
 * Lightweight masonry layout
 * by David DeSandro
 * MIT license
 */(function(s){(function(o,i){s.exports?s.exports=i():o.Colcade=i()})(window,function(){function i(e,l){if(e=d(e),e&&e.colcadeGUID){var r=n[e.colcadeGUID];return r.option(l),r}this.element=e,this.options={},this.option(l),this.create()}var t=i.prototype;t.option=function(e){this.options=a(this.options,e)};var c=0,n={};t.create=function(){this.errorCheck();var e=this.guid=++c;this.element.colcadeGUID=e,n[e]=this,this.reload(),this._windowResizeHandler=this.onWindowResize.bind(this),this._loadHandler=this.onLoad.bind(this),window.addEventListener("resize",this._windowResizeHandler),this.element.addEventListener("load",this._loadHandler,!0)},t.errorCheck=function(){var e=[];if(this.element||e.push("Bad element: "+this.element),this.options.columns||e.push("columns option required: "+this.options.columns),this.options.items||e.push("items option required: "+this.options.items),e.length)throw new Error("[Colcade error] "+e.join(". "))},t.reload=function(){this.updateColumns(),this.updateItems(),this.layout()},t.updateColumns=function(){this.columns=f(this.options.columns,this.element)},t.updateItems=function(){this.items=f(this.options.items,this.element)},t.getActiveColumns=function(){return this.columns.filter(function(e){var l=getComputedStyle(e);return l.display!="none"})},t.layout=function(){this.activeColumns=this.getActiveColumns(),this._layout()},t._layout=function(){this.columnHeights=this.activeColumns.map(function(){return 0}),this.layoutItems(this.items)},t.layoutItems=function(e){e.forEach(this.layoutItem,this)},t.layoutItem=function(e){var l=Math.min.apply(Math,this.columnHeights),r=this.columnHeights.indexOf(l);this.activeColumns[r].appendChild(e),this.columnHeights[r]+=e.offsetHeight||1},t.append=function(e){var l=this.getQueryItems(e);this.items=this.items.concat(l),this.layoutItems(l)},t.prepend=function(e){var l=this.getQueryItems(e);this.items=l.concat(this.items),this._layout()},t.getQueryItems=function(e){e=h(e);var l=document.createDocumentFragment();return e.forEach(function(r){l.appendChild(r)}),f(this.options.items,l)},t.measureColumnHeight=function(e){var l=this.element.getBoundingClientRect();this.activeColumns.forEach(function(r,v){if(!e||r.contains(e)){var w=r.lastElementChild.getBoundingClientRect();this.columnHeights[v]=w.bottom-l.top}},this)},t.onWindowResize=function(){clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){this.onDebouncedResize()}.bind(this),100)},t.onDebouncedResize=function(){var e=this.getActiveColumns(),l=e.length==this.activeColumns.length,r=!0;this.activeColumns.forEach(function(v,w){r=r&&v==e[w]}),!(l&&r)&&(this.activeColumns=e,this._layout())},t.onLoad=function(e){this.measureColumnHeight(e.target)},t.destroy=function(){this.items.forEach(function(e){this.element.appendChild(e)},this),window.removeEventListener("resize",this._windowResizeHandler),this.element.removeEventListener("load",this._loadHandler,!0),delete this.element.colcadeGUID,delete n[this.guid]},m(function(){var e=f("[data-colcade]");e.forEach(u)});function u(e){var l=e.getAttribute("data-colcade"),r=l.split(","),v={};r.forEach(function(w){var E=w.split(":"),k=E[0].trim(),b=E[1].trim();v[k]=b}),new i(e,v)}i.data=function(e){e=d(e);var l=e&&e.colcadeGUID;return l&&n[l]},i.makeJQueryPlugin=function(e){if(e=e||window.jQuery,!e)return;e.fn.colcade=function(v){if(typeof v=="string"){var w=Array.prototype.slice.call(arguments,1);return l(this,v,w)}return r(this,v),this};function l(v,w,E){var k;return v.each(function(b,p){var z=e.data(p,"colcade");if(!!z){var S=z[w].apply(z,E);k=k===void 0?S:k}}),k!==void 0?k:v}function r(v,w){v.each(function(E,k){var b=e.data(k,"colcade");b?(b.option(w),b.layout()):(b=new i(k,w),e.data(k,"colcade",b))})}},i.makeJQueryPlugin();function a(e,l){for(var r in l)e[r]=l[r];return e}function h(e){var l=[];if(Array.isArray(e))l=e;else if(e&&typeof e.length=="number")for(var r=0;r<e.length;r++)l.push(e[r]);else l.push(e);return l}function f(e,l){l=l||document;var r=l.querySelectorAll(e);return h(r)}function d(e){return typeof e=="string"&&(e=document.querySelector(e)),e}function m(e){if(document.readyState=="complete"){e();return}document.addEventListener("DOMContentLoaded",e)}return i})})(Y);var pe=Y.exports;function _e(s){let o,i,t,c,n,u,a,h=s[0].label+"",f,d,m,e,l,r,v,w,E,k,b=s[0].label+"",p,z,S,U;return{c(){o=_("div"),i=_("div"),t=_("div"),c=_("div"),n=_("div"),u=_("div"),a=_("h5"),f=P(h),d=D(),m=_("img"),w=D(),E=_("div"),k=_("h5"),p=P(b),g(a,"class","label svelte-c7a42h"),g(u,"class","label-container svelte-c7a42h"),g(n,"class","hover-container svelte-c7a42h"),g(m,"width",e=s[0].width),g(m,"height",l=s[0].height),g(m,"class","image lazy svelte-c7a42h"),g(m,"data-src",r=s[0].url),g(m,"alt",""),g(c,"class","image-container svelte-c7a42h"),J(t,"padding-bottom",s[0].height/s[0].width*100+"%"),g(t,"class","aspect-ratio-box svelte-c7a42h"),g(k,"class","label svelte-c7a42h"),g(E,"class","label-container svelte-c7a42h"),g(o,"class",z="item-container "+s[2].category+" svelte-c7a42h"),A(o,"image-container-margin",s[1]||s[2].category==="design")},m(C,M){I(C,o,M),y(o,i),y(i,t),y(t,c),y(c,n),y(n,u),y(u,a),y(a,f),y(c,d),y(c,m),y(i,w),y(i,E),y(E,k),y(k,p),S||(U=[ne(v=me.call(null,m,s[0].url)),j(c,"click",s[4])],S=!0)},p(C,[M]){M&1&&h!==(h=C[0].label+"")&&Q(f,h),M&1&&e!==(e=C[0].width)&&g(m,"width",e),M&1&&l!==(l=C[0].height)&&g(m,"height",l),M&1&&r!==(r=C[0].url)&&g(m,"data-src",r),v&&se(v.update)&&M&1&&v.update.call(null,C[0].url),M&1&&J(t,"padding-bottom",C[0].height/C[0].width*100+"%"),M&1&&b!==(b=C[0].label+"")&&Q(p,b),M&4&&z!==(z="item-container "+C[2].category+" svelte-c7a42h")&&g(o,"class",z),M&6&&A(o,"image-container-margin",C[1]||C[2].category==="design")},i:O,o:O,d(C){C&&H(o),S=!1,le(U)}}}function ye(s,o,i){let t,c;L(s,W,h=>i(2,t=h)),L(s,q,h=>i(3,c=h));let{img:n}=o,{modal:u}=o;const a=()=>{["private-homes","multi-units"].includes(t.pages)?q.openModal(n,"spec"):q.openModal(n,"basic"),n.label.replace(/\s/g,""),fetch(`${window.location.origin==="http://jsdom.ssr"?"http://localhost:9999":window.location.origin}/.netlify/functions/get-full-images/?category=${t.pages}${t.pages==="private-homes"?`&subCategory=${n.category}`:""}&property=${c.selected.key}`).then(f=>f.json()).then(async f=>{oe(q,c.images=f,c),await K()})};return s.$$set=h=>{"img"in h&&i(0,n=h.img),"modal"in h&&i(1,u=h.modal)},[n,u,t,c,a]}class we extends B{constructor(o){super();F(this,o,ye,_e,T,{img:0,modal:1})}}function Z(s,o,i){const t=s.slice();return t[17]=o[i],t}function x(s,o,i){const t=s.slice();return t[7]=o[i],t[21]=i,t}function $(s){let o,i,t=s[5],c=[];for(let n=0;n<t.length;n+=1)c[n]=ee(x(s,t,n));return{c(){o=_("div"),i=_("ul");for(let n=0;n<c.length;n+=1)c[n].c();g(i,"class","category-list svelte-kyhktw"),g(o,"class","category-container svelte-kyhktw")},m(n,u){I(n,o,u),y(o,i);for(let a=0;a<c.length;a+=1)c[a].m(i,null)},p(n,u){if(u&112){t=n[5];let a;for(a=0;a<t.length;a+=1){const h=x(n,t,a);c[a]?c[a].p(h,u):(c[a]=ee(h),c[a].c(),c[a].m(i,null))}for(;a<c.length;a+=1)c[a].d(1);c.length=t.length}},d(n){n&&H(o),N(c,n)}}}function ke(s){let o;return{c(){o=_("div"),g(o,"class","list-divider svelte-kyhktw")},m(i,t){I(i,o,t)},d(i){i&&H(o)}}}function ee(s){let o,i,t,c=s[7].name+"",n,u,a,h,f=s[21]!==0&&ke();function d(){return s[12](s[7])}return{c(){f&&f.c(),o=D(),i=_("li"),t=_("h5"),n=P(c),u=D(),g(t,"class","category-link svelte-kyhktw"),A(t,"selected",s[4]===s[7].urlFormatted),g(i,"class","category-item svelte-kyhktw")},m(m,e){f&&f.m(m,e),I(m,o,e),I(m,i,e),y(i,t),y(t,n),y(i,u),a||(h=j(t,"click",d),a=!0)},p(m,e){s=m,e&32&&c!==(c=s[7].name+"")&&Q(n,c),e&48&&A(t,"selected",s[4]===s[7].urlFormatted)},d(m){f&&f.d(m),m&&H(o),m&&H(i),a=!1,h()}}}function te(s){let o,i,t,c,n,u,a,h,f=s[3],d=[];for(let e=0;e<f.length;e+=1)d[e]=ie(Z(s,f,e));const m=e=>R(d[e],1,1,()=>{d[e]=null});return{c(){o=_("div"),i=D(),t=_("div"),c=D(),n=_("div"),u=D();for(let e=0;e<d.length;e+=1)d[e].c();a=ae(),g(o,"class","grid-col grid-col--1 svelte-kyhktw"),g(t,"class","grid-col grid-col--2 svelte-kyhktw"),g(n,"class","grid-col grid-col--3 svelte-kyhktw")},m(e,l){I(e,o,l),I(e,i,l),I(e,t,l),I(e,c,l),I(e,n,l),I(e,u,l);for(let r=0;r<d.length;r+=1)d[r].m(e,l);I(e,a,l),h=!0},p(e,l){if(l&269){f=e[3];let r;for(r=0;r<f.length;r+=1){const v=Z(e,f,r);d[r]?(d[r].p(v,l),G(d[r],1)):(d[r]=ie(v),d[r].c(),G(d[r],1),d[r].m(a.parentNode,a))}for(V(),r=f.length;r<d.length;r+=1)m(r);X()}},i(e){if(!h){for(let l=0;l<f.length;l+=1)G(d[l]);h=!0}},o(e){d=d.filter(Boolean);for(let l=0;l<d.length;l+=1)R(d[l]);h=!1},d(e){e&&H(o),e&&H(i),e&&H(t),e&&H(c),e&&H(n),e&&H(u),N(d,e),e&&H(a)}}}function ie(s){let o,i,t,c;return i=new we({props:{modal:s[0],masonry:s[8],img:s[17],grid:s[2]}}),{c(){o=_("div"),re(i.$$.fragment),t=D(),g(o,"class","grid-item")},m(n,u){I(n,o,u),ce(i,o,null),y(o,t),c=!0},p(n,u){const a={};u&1&&(a.modal=n[0]),u&8&&(a.img=n[17]),u&4&&(a.grid=n[2]),i.$set(a)},i(n){c||(G(i.$$.fragment,n),c=!0)},o(n){R(i.$$.fragment,n),c=!1},d(n){n&&H(o),ue(i)}}}function be(s){let o,i,t,c,n=s[1]==="private-homes"&&$(s),u=s[3].length>0&&te(s);return{c(){o=_("div"),n&&n.c(),i=D(),t=_("div"),u&&u.c(),g(t,"class","container masonry-container svelte-kyhktw"),g(o,"class","wrapper svelte-kyhktw")},m(a,h){I(a,o,h),n&&n.m(o,null),y(o,i),y(o,t),u&&u.m(t,null),s[13](t),c=!0},p(a,[h]){a[1]==="private-homes"?n?n.p(a,h):(n=$(a),n.c(),n.m(o,i)):n&&(n.d(1),n=null),a[3].length>0?u?(u.p(a,h),h&8&&G(u,1)):(u=te(a),u.c(),G(u,1),u.m(t,null)):u&&(V(),R(u,1,1,()=>{u=null}),X())},i(a){c||(G(u),c=!0)},o(a){R(u),c=!1},d(a){a&&H(o),n&&n.d(),u&&u.d(),s[13](null)}}}function Ce(s,o,i){let t,c,n,u,a,h,f;L(s,he,p=>i(15,u=p)),L(s,W,p=>i(10,a=p)),L(s,ge,p=>i(11,h=p)),L(s,de,p=>i(6,f=p));let{modal:d}=o,m,e=[],l,r=[],v,w;async function E(){const z=new URLSearchParams(window.location.search).get("sub_category");c==="architecture"&&(i(4,l=z),i(3,e=[]),fetch(`${window.location.origin}/.netlify/functions/images/?category=${t}${z?`&sub_category=${z}`:""}`).then(S=>S.json()).then(async S=>{i(3,e=S),await K(),w?w.reload():w=new pe(m,{columns:".grid-col",items:".grid-item"})}))}u();const k=p=>{f("./",{sub_category:p.urlFormatted})};function b(p){fe[p?"unshift":"push"](()=>{m=p,i(2,m)})}return s.$$set=p=>{"modal"in p&&i(0,d=p.modal)},s.$$.update=()=>{s.$$.dirty&2048&&i(1,{page:t,category:c}=h,t,(i(7,c),i(11,h))),s.$$.dirty&1024&&i(9,{sub_category:n}=a,n),s.$$.dirty&2&&t==="private-homes"&&i(5,r=[...ve.pages.byTitle["private-homes"].categories]),s.$$.dirty&514&&E()},[d,t,m,e,l,r,f,c,v,n,a,h,k,b]}class Ee extends B{constructor(o){super();F(this,o,Ce,be,T,{modal:0})}}export{Ee as default};
