import{S as F,i as B,s as T,e as _,t as P,k as S,a as g,M as J,b as A,c as I,d as y,I as ne,A as j,f as Q,J as se,n as O,g as H,C as le,h as G,x as W,R as ae,y as N,B as V,G as oe,r as D,j as re,m as ce,o as L,p as ue,l as K,q as X,a6 as he,D as de,F as fe}from"./vendor.7ae63dc5.js";import{l as me,g as q,m as ge,p as ve}from"./index.03c2321d.js";var Y={exports:{}};/*!
 * Colcade v0.2.0
 * Lightweight masonry layout
 * by David DeSandro
 * MIT license
 */(function(s){(function(a,i){s.exports?s.exports=i():a.Colcade=i()})(window,function(){function i(e,l){if(e=f(e),e&&e.colcadeGUID){var c=n[e.colcadeGUID];return c.option(l),c}this.element=e,this.options={},this.option(l),this.create()}var t=i.prototype;t.option=function(e){this.options=o(this.options,e)};var r=0,n={};t.create=function(){this.errorCheck();var e=this.guid=++r;this.element.colcadeGUID=e,n[e]=this,this.reload(),this._windowResizeHandler=this.onWindowResize.bind(this),this._loadHandler=this.onLoad.bind(this),window.addEventListener("resize",this._windowResizeHandler),this.element.addEventListener("load",this._loadHandler,!0)},t.errorCheck=function(){var e=[];if(this.element||e.push("Bad element: "+this.element),this.options.columns||e.push("columns option required: "+this.options.columns),this.options.items||e.push("items option required: "+this.options.items),e.length)throw new Error("[Colcade error] "+e.join(". "))},t.reload=function(){this.updateColumns(),this.updateItems(),this.layout()},t.updateColumns=function(){this.columns=d(this.options.columns,this.element)},t.updateItems=function(){this.items=d(this.options.items,this.element)},t.getActiveColumns=function(){return this.columns.filter(function(e){var l=getComputedStyle(e);return l.display!="none"})},t.layout=function(){this.activeColumns=this.getActiveColumns(),this._layout()},t._layout=function(){this.columnHeights=this.activeColumns.map(function(){return 0}),this.layoutItems(this.items)},t.layoutItems=function(e){e.forEach(this.layoutItem,this)},t.layoutItem=function(e){var l=Math.min.apply(Math,this.columnHeights),c=this.columnHeights.indexOf(l);this.activeColumns[c].appendChild(e),this.columnHeights[c]+=e.offsetHeight||1},t.append=function(e){var l=this.getQueryItems(e);this.items=this.items.concat(l),this.layoutItems(l)},t.prepend=function(e){var l=this.getQueryItems(e);this.items=l.concat(this.items),this._layout()},t.getQueryItems=function(e){e=h(e);var l=document.createDocumentFragment();return e.forEach(function(c){l.appendChild(c)}),d(this.options.items,l)},t.measureColumnHeight=function(e){var l=this.element.getBoundingClientRect();this.activeColumns.forEach(function(c,v){if(!e||c.contains(e)){var w=c.lastElementChild.getBoundingClientRect();this.columnHeights[v]=w.bottom-l.top}},this)},t.onWindowResize=function(){clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){this.onDebouncedResize()}.bind(this),100)},t.onDebouncedResize=function(){var e=this.getActiveColumns(),l=e.length==this.activeColumns.length,c=!0;this.activeColumns.forEach(function(v,w){c=c&&v==e[w]}),!(l&&c)&&(this.activeColumns=e,this._layout())},t.onLoad=function(e){this.measureColumnHeight(e.target)},t.destroy=function(){this.items.forEach(function(e){this.element.appendChild(e)},this),window.removeEventListener("resize",this._windowResizeHandler),this.element.removeEventListener("load",this._loadHandler,!0),delete this.element.colcadeGUID,delete n[this.guid]},m(function(){var e=d("[data-colcade]");e.forEach(u)});function u(e){var l=e.getAttribute("data-colcade"),c=l.split(","),v={};c.forEach(function(w){var E=w.split(":"),k=E[0].trim(),b=E[1].trim();v[k]=b}),new i(e,v)}i.data=function(e){e=f(e);var l=e&&e.colcadeGUID;return l&&n[l]},i.makeJQueryPlugin=function(e){if(e=e||window.jQuery,!e)return;e.fn.colcade=function(v){if(typeof v=="string"){var w=Array.prototype.slice.call(arguments,1);return l(this,v,w)}return c(this,v),this};function l(v,w,E){var k;return v.each(function(b,p){var z=e.data(p,"colcade");if(!!z){var R=z[w].apply(z,E);k=k===void 0?R:k}}),k!==void 0?k:v}function c(v,w){v.each(function(E,k){var b=e.data(k,"colcade");b?(b.option(w),b.layout()):(b=new i(k,w),e.data(k,"colcade",b))})}},i.makeJQueryPlugin();function o(e,l){for(var c in l)e[c]=l[c];return e}function h(e){var l=[];if(Array.isArray(e))l=e;else if(e&&typeof e.length=="number")for(var c=0;c<e.length;c++)l.push(e[c]);else l.push(e);return l}function d(e,l){l=l||document;var c=l.querySelectorAll(e);return h(c)}function f(e){return typeof e=="string"&&(e=document.querySelector(e)),e}function m(e){if(document.readyState=="complete"){e();return}document.addEventListener("DOMContentLoaded",e)}return i})})(Y);var pe=Y.exports;function _e(s){let a,i,t,r,n,u,o,h=s[0].label+"",d,f,m,e,l,c,v,w,E,k,b=s[0].label+"",p,z,R,U;return{c(){a=_("div"),i=_("div"),t=_("div"),r=_("div"),n=_("div"),u=_("div"),o=_("h5"),d=P(h),f=S(),m=_("img"),w=S(),E=_("div"),k=_("h5"),p=P(b),g(o,"class","label svelte-c7a42h"),g(u,"class","label-container svelte-c7a42h"),g(n,"class","hover-container svelte-c7a42h"),g(m,"width",e=s[0].width),g(m,"height",l=s[0].height),g(m,"class","image lazy svelte-c7a42h"),g(m,"data-src",c=s[0].url),g(m,"alt",""),g(r,"class","image-container svelte-c7a42h"),J(t,"padding-bottom",s[0].height/s[0].width*100+"%"),g(t,"class","aspect-ratio-box svelte-c7a42h"),g(k,"class","label svelte-c7a42h"),g(E,"class","label-container svelte-c7a42h"),g(a,"class",z="item-container "+s[2].category+" svelte-c7a42h"),A(a,"image-container-margin",s[1]||s[2].category==="design")},m(C,M){I(C,a,M),y(a,i),y(i,t),y(t,r),y(r,n),y(n,u),y(u,o),y(o,d),y(r,f),y(r,m),y(i,w),y(i,E),y(E,k),y(k,p),R||(U=[ne(v=me.call(null,m,s[0].url)),j(r,"click",s[4])],R=!0)},p(C,[M]){M&1&&h!==(h=C[0].label+"")&&Q(d,h),M&1&&e!==(e=C[0].width)&&g(m,"width",e),M&1&&l!==(l=C[0].height)&&g(m,"height",l),M&1&&c!==(c=C[0].url)&&g(m,"data-src",c),v&&se(v.update)&&M&1&&v.update.call(null,C[0].url),M&1&&J(t,"padding-bottom",C[0].height/C[0].width*100+"%"),M&1&&b!==(b=C[0].label+"")&&Q(p,b),M&4&&z!==(z="item-container "+C[2].category+" svelte-c7a42h")&&g(a,"class",z),M&6&&A(a,"image-container-margin",C[1]||C[2].category==="design")},i:O,o:O,d(C){C&&H(a),R=!1,le(U)}}}function ye(s,a,i){let t,r;G(s,W,h=>i(2,t=h)),G(s,q,h=>i(3,r=h));let{img:n}=a,{modal:u}=a;const o=()=>{["private-homes","multi-family"].includes(t.pages)?q.openModal(n,"spec"):q.openModal(n,"basic"),n.label.replace(/\s/g,""),fetch(`${window.location.origin==="http://jsdom.ssr"?"http://localhost:9999":window.location.origin}/.netlify/functions/get-full-images/?category=${t.pages}${t.pages==="private-homes"?`&subCategory=${n.category}`:""}&property=${r.selected.key}`).then(d=>d.json()).then(async d=>{ae(q,r.images=d,r),await N()})};return s.$$set=h=>{"img"in h&&i(0,n=h.img),"modal"in h&&i(1,u=h.modal)},[n,u,t,r,o]}class we extends F{constructor(a){super();B(this,a,ye,_e,T,{img:0,modal:1})}}function Z(s,a,i){const t=s.slice();return t[17]=a[i],t}function x(s,a,i){const t=s.slice();return t[7]=a[i],t[21]=i,t}function $(s){let a,i,t=s[5],r=[];for(let n=0;n<t.length;n+=1)r[n]=ee(x(s,t,n));return{c(){a=_("div"),i=_("ul");for(let n=0;n<r.length;n+=1)r[n].c();g(i,"class","category-list svelte-kyhktw"),g(a,"class","category-container svelte-kyhktw")},m(n,u){I(n,a,u),y(a,i);for(let o=0;o<r.length;o+=1)r[o].m(i,null)},p(n,u){if(u&112){t=n[5];let o;for(o=0;o<t.length;o+=1){const h=x(n,t,o);r[o]?r[o].p(h,u):(r[o]=ee(h),r[o].c(),r[o].m(i,null))}for(;o<r.length;o+=1)r[o].d(1);r.length=t.length}},d(n){n&&H(a),V(r,n)}}}function ke(s){let a;return{c(){a=_("div"),g(a,"class","list-divider svelte-kyhktw")},m(i,t){I(i,a,t)},d(i){i&&H(a)}}}function ee(s){let a,i,t,r=s[7].name+"",n,u,o,h,d=s[21]!==0&&ke();function f(){return s[12](s[7])}return{c(){d&&d.c(),a=S(),i=_("li"),t=_("h5"),n=P(r),u=S(),g(t,"class","category-link svelte-kyhktw"),A(t,"selected",s[4]===s[7].urlFormatted),g(i,"class","category-item svelte-kyhktw")},m(m,e){d&&d.m(m,e),I(m,a,e),I(m,i,e),y(i,t),y(t,n),y(i,u),o||(h=j(t,"click",f),o=!0)},p(m,e){s=m,e&32&&r!==(r=s[7].name+"")&&Q(n,r),e&48&&A(t,"selected",s[4]===s[7].urlFormatted)},d(m){d&&d.d(m),m&&H(a),m&&H(i),o=!1,h()}}}function te(s){let a,i,t,r,n,u,o,h,d=s[3],f=[];for(let e=0;e<d.length;e+=1)f[e]=ie(Z(s,d,e));const m=e=>L(f[e],1,1,()=>{f[e]=null});return{c(){a=_("div"),i=S(),t=_("div"),r=S(),n=_("div"),u=S();for(let e=0;e<f.length;e+=1)f[e].c();o=oe(),g(a,"class","grid-col grid-col--1 svelte-kyhktw"),g(t,"class","grid-col grid-col--2 svelte-kyhktw"),g(n,"class","grid-col grid-col--3 svelte-kyhktw")},m(e,l){I(e,a,l),I(e,i,l),I(e,t,l),I(e,r,l),I(e,n,l),I(e,u,l);for(let c=0;c<f.length;c+=1)f[c].m(e,l);I(e,o,l),h=!0},p(e,l){if(l&269){d=e[3];let c;for(c=0;c<d.length;c+=1){const v=Z(e,d,c);f[c]?(f[c].p(v,l),D(f[c],1)):(f[c]=ie(v),f[c].c(),D(f[c],1),f[c].m(o.parentNode,o))}for(K(),c=d.length;c<f.length;c+=1)m(c);X()}},i(e){if(!h){for(let l=0;l<d.length;l+=1)D(f[l]);h=!0}},o(e){f=f.filter(Boolean);for(let l=0;l<f.length;l+=1)L(f[l]);h=!1},d(e){e&&H(a),e&&H(i),e&&H(t),e&&H(r),e&&H(n),e&&H(u),V(f,e),e&&H(o)}}}function ie(s){let a,i,t,r;return i=new we({props:{modal:s[0],masonry:s[8],img:s[17],grid:s[2]}}),{c(){a=_("div"),re(i.$$.fragment),t=S(),g(a,"class","grid-item")},m(n,u){I(n,a,u),ce(i,a,null),y(a,t),r=!0},p(n,u){const o={};u&1&&(o.modal=n[0]),u&8&&(o.img=n[17]),u&4&&(o.grid=n[2]),i.$set(o)},i(n){r||(D(i.$$.fragment,n),r=!0)},o(n){L(i.$$.fragment,n),r=!1},d(n){n&&H(a),ue(i)}}}function be(s){let a,i,t,r,n=s[1]==="private-homes"&&$(s),u=s[3].length>0&&te(s);return{c(){a=_("div"),n&&n.c(),i=S(),t=_("div"),u&&u.c(),g(t,"class","container masonry-container svelte-kyhktw"),g(a,"class","wrapper svelte-kyhktw")},m(o,h){I(o,a,h),n&&n.m(a,null),y(a,i),y(a,t),u&&u.m(t,null),s[13](t),r=!0},p(o,[h]){o[1]==="private-homes"?n?n.p(o,h):(n=$(o),n.c(),n.m(a,i)):n&&(n.d(1),n=null),o[3].length>0?u?(u.p(o,h),h&8&&D(u,1)):(u=te(o),u.c(),D(u,1),u.m(t,null)):u&&(K(),L(u,1,1,()=>{u=null}),X())},i(o){r||(D(u),r=!0)},o(o){L(u),r=!1},d(o){o&&H(a),n&&n.d(),u&&u.d(),s[13](null)}}}function Ce(s,a,i){let t,r,n,u,o,h,d;G(s,he,p=>i(15,u=p)),G(s,W,p=>i(10,o=p)),G(s,ge,p=>i(11,h=p)),G(s,de,p=>i(6,d=p));let{modal:f}=a,m,e=[],l,c=[],v,w;async function E(){const z=new URLSearchParams(window.location.search).get("sub_category");(r==="architecture"||r==="design")&&(i(4,l=z),i(3,e=[]),fetch(`${window.location.origin}/.netlify/functions/images/?category=${t}${z?`&sub_category=${z}`:""}`).then(R=>R.json()).then(async R=>{i(3,e=R),await N(),w?w.reload():w=new pe(m,{columns:".grid-col",items:".grid-item"})}))}u();const k=p=>{p.urlFormatted==="/"?d("./"):d("./",{sub_category:p.urlFormatted})};function b(p){fe[p?"unshift":"push"](()=>{m=p,i(2,m)})}return s.$$set=p=>{"modal"in p&&i(0,f=p.modal)},s.$$.update=()=>{s.$$.dirty&2048&&i(1,{page:t,category:r}=h,t,(i(7,r),i(11,h))),s.$$.dirty&1024&&i(9,{sub_category:n}=o,n),s.$$.dirty&2&&t==="private-homes"&&i(5,c=[...ve.pages.byTitle["private-homes"].categories]),s.$$.dirty&514&&E()},[f,t,m,e,l,c,d,r,v,n,o,h,k,b]}class Ee extends F{constructor(a){super();B(this,a,Ce,be,T,{modal:0})}}export{Ee as default};
