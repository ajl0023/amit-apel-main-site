var N=Object.defineProperty;var D=Object.getOwnPropertySymbols;var Q=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var S=(r,t,n)=>t in r?N(r,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):r[t]=n,A=(r,t)=>{for(var n in t||(t={}))Q.call(t,n)&&S(r,n,t[n]);if(D)for(var n of D(t))R.call(t,n)&&S(r,n,t[n]);return r};import{A as V,S as C,i as M,s as L,e as h,g as T,f as z,h as g,j as q,k as v,r as B,l as y,B as I,n as E,C as F,D as Z,p as H,E as x,o as W,F as w,G as $,t as j,a as k,v as ee,w as te,x as Y,c as ne,m as le,d as re,y as se,z as ae}from"./vendor.dd6c9341.js";import{m as oe,p as G}from"./marqueeHandlerStore.7bab2a9b.js";import{g as ie}from"./store.e08f1237.js";import{g as O}from"./index.e6e77149.js";import{c as ue}from"./utils.f73a3604.js";const ce=()=>{const r={ele:null,eleA:null,marquee:null,animationDefaults:{duration:.6,ease:"expo"}},{subscribe:t,set:n,update:l}=V(r);return A({subscribe:t,set:n,update:l},{init(a,e,u,s){l(i=>(i.ele=a,i.eleA=e,i.marquee=u,i.marqueeInner=s,i))},mouseEnter(a){l(e=>{const u=this.findClosestEdge(a,e.ele);return O.timeline({defaults:e.animationDefaults}).set(e.marquee,{y:u==="top"?"-101%":"101%"},0).to([e.marquee,e.marqueeInner],{y:"0%"},0),e})},mouseLeave(a){l(e=>{const u=this.findClosestEdge(a,e.ele);return O.timeline({defaults:e.animationDefaults}).to(e.marquee,{y:u==="top"?"-101%":"101%"},0).to(e.marqueeInner,{y:u==="top"?"101%":"-101%"},0),e})},findClosestEdge(a,e){const u=a.pageX-e.offsetLeft,s=a.pageY-e.offsetTop;return ue(u,s,e.clientWidth,e.clientHeight)}})};function P(r,t,n){const l=r.slice();return l[13]=t[n],l}function U(r){let t,n=r[13]+"",l,o,a;return{c(){t=h("span"),l=T(n),o=z(),a=h("div"),g(t,"class","svelte-1n60fj0"),g(a,"class","marquee__img svelte-1n60fj0")},m(e,u){q(e,t,u),v(t,l),q(e,o,u),q(e,a,u)},p(e,u){u&1&&n!==(n=e[13]+"")&&B(l,n)},d(e){e&&y(t),e&&y(o),e&&y(a)}}}function me(r){let t,n,l=r[0].title+"",o,a,e,u,s,i,c,p=Array(8).fill(r[0].title),d=[];for(let f=0;f<p.length;f+=1)d[f]=U(P(r,p,f));return{c(){t=h("div"),n=h("div"),o=T(l),a=z(),e=h("div"),u=h("div"),s=h("div");for(let f=0;f<d.length;f+=1)d[f].c();g(n,"class","menu__item-link svelte-1n60fj0"),g(s,"class","marquee__inner svelte-1n60fj0"),g(s,"aria-hidden","true"),g(u,"class","marquee__inner-wrap svelte-1n60fj0"),g(e,"class","marquee svelte-1n60fj0"),g(t,"class","menu__item svelte-1n60fj0")},m(f,b){q(f,t,b),v(t,n),v(n,o),v(t,a),v(t,e),v(e,u),v(u,s);for(let _=0;_<d.length;_+=1)d[_].m(s,null);r[8](u),r[9](e),r[11](t),i||(c=[I(n,"mouseenter",r[6]),I(n,"mouseleave",r[7]),I(t,"click",r[10])],i=!0)},p(f,[b]){if(b&1&&l!==(l=f[0].title+"")&&B(o,l),b&1){p=Array(8).fill(f[0].title);let _;for(_=0;_<p.length;_+=1){const m=P(f,p,_);d[_]?d[_].p(m,b):(d[_]=U(m),d[_].c(),d[_].m(s,null))}for(;_<d.length;_+=1)d[_].d(1);d.length=p.length}},i:E,o:E,d(f){f&&y(t),F(d,f),r[8](null),r[9](null),r[11](null),i=!1,Z(c)}}}function fe(r,t,n){let l;H(r,x,m=>n(5,l=m));let{menuItem:o}=t,a,e,u,s,i;W(()=>{n(4,i=ce()),i.init(a,e,s,u)});const c=m=>{i.mouseEnter(m)},p=m=>{i.mouseLeave(m)};function d(m){w[m?"unshift":"push"](()=>{u=m,n(2,u)})}function f(m){w[m?"unshift":"push"](()=>{s=m,n(3,s)})}const b=async m=>{l("./"+o.urlFormatted),oe.setPage(o.urlFormatted)};function _(m){w[m?"unshift":"push"](()=>{a=m,n(1,a)})}return r.$$set=m=>{"menuItem"in m&&n(0,o=m.menuItem)},[o,a,u,s,i,l,c,p,d,f,b,_]}class _e extends C{constructor(t){super();M(this,t,fe,me,L,{menuItem:0})}}function X(r,t,n){const l=r.slice();return l[3]=t[n],l}function de(r){let t,n;return t=new _e({props:{menuItem:r[3]}}),{c(){ne(t.$$.fragment)},m(l,o){le(t,l,o),n=!0},p:E,i(l){n||(j(t.$$.fragment,l),n=!0)},o(l){k(t.$$.fragment,l),n=!1},d(l){re(t,l)}}}function J(r){let t,n,l=r[3]&&de(r);return{c(){l&&l.c(),t=$()},m(o,a){l&&l.m(o,a),q(o,t,a),n=!0},p(o,a){o[3]&&l.p(o,a)},i(o){n||(j(l),n=!0)},o(o){k(l),n=!1},d(o){l&&l.d(o),o&&y(t)}}}function pe(r){let t,n,l,o,a=r[0],e=[];for(let s=0;s<a.length;s+=1)e[s]=J(X(r,a,s));const u=s=>k(e[s],1,1,()=>{e[s]=null});return{c(){t=h("div"),n=h("div");for(let s=0;s<e.length;s+=1)e[s].c();g(n,"class","menu-wrap svelte-gozjwu"),g(t,"class","marquee-animation-container svelte-gozjwu")},m(s,i){q(s,t,i),v(t,n);for(let c=0;c<e.length;c+=1)e[c].m(n,null);o=!0},p(s,[i]){if(i&1){a=s[0];let c;for(c=0;c<a.length;c+=1){const p=X(s,a,c);e[c]?(e[c].p(p,i),j(e[c],1)):(e[c]=J(p),e[c].c(),j(e[c],1),e[c].m(n,null))}for(se(),c=a.length;c<e.length;c+=1)u(c);ee()}},i(s){if(!o){for(let i=0;i<a.length;i+=1)j(e[i]);s&&te(()=>{l||(l=Y(t,K,{},!0)),l.run(1)}),o=!0}},o(s){e=e.filter(Boolean);for(let i=0;i<e.length;i+=1)k(e[i]);s&&(l||(l=Y(t,K,{},!1)),l.run(0)),o=!1},d(s){s&&y(t),F(e,s),s&&l&&l.end()}}}function K(){return{duration:800,css:(r,t)=>`transform: translateY(${100*t}vh);`}}function ge(r,t,n){let l;H(r,ae,e=>n(1,l=e));const a=G.categories.byTitle[l.category].pages.map(e=>G.pages.byTitle[e.key]);return W(()=>{ie.closeModal()}),[a]}class ke extends C{constructor(t){super();M(this,t,ge,pe,L,{})}}export{ke as default};
