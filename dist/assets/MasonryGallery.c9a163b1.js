import{L as ae,S as B,i as U,s as P,e as v,g as T,f as E,h as f,X as F,q as J,j as L,k as p,a1 as oe,B as le,r as O,V as se,n as V,l as S,D as re,p as D,z as W,$ as ce,a2 as X,y as R,a as H,v as A,t as q,a3 as ue,o as de,F as he,c as K,m as N,d as Y,C as Z}from"./vendor.e1944527.js";import{m as me}from"./marqueeHandlerStore.6791448c.js";import{g as G}from"./store.24c541cf.js";var $={exports:{}};/*!
 * Colcade v0.2.0
 * Lightweight masonry layout
 * by David DeSandro
 * MIT license
 */(function(r){(function(n,t){r.exports?r.exports=t():n.Colcade=t()})(window,function(){function t(e,i){if(e=m(e),e&&e.colcadeGUID){var c=u[e.colcadeGUID];return c.option(i),c}this.element=e,this.options={},this.option(i),this.create()}var a=t.prototype;a.option=function(e){this.options=d(this.options,e)};var s=0,u={};a.create=function(){this.errorCheck();var e=this.guid=++s;this.element.colcadeGUID=e,u[e]=this,this.reload(),this._windowResizeHandler=this.onWindowResize.bind(this),this._loadHandler=this.onLoad.bind(this),window.addEventListener("resize",this._windowResizeHandler),this.element.addEventListener("load",this._loadHandler,!0)},a.errorCheck=function(){var e=[];if(this.element||e.push("Bad element: "+this.element),this.options.columns||e.push("columns option required: "+this.options.columns),this.options.items||e.push("items option required: "+this.options.items),e.length)throw new Error("[Colcade error] "+e.join(". "))},a.reload=function(){this.updateColumns(),this.updateItems(),this.layout()},a.updateColumns=function(){this.columns=h(this.options.columns,this.element)},a.updateItems=function(){this.items=h(this.options.items,this.element)},a.getActiveColumns=function(){return this.columns.filter(function(e){var i=getComputedStyle(e);return i.display!="none"})},a.layout=function(){this.activeColumns=this.getActiveColumns(),this._layout()},a._layout=function(){this.columnHeights=this.activeColumns.map(function(){return 0}),this.layoutItems(this.items)},a.layoutItems=function(e){e.forEach(this.layoutItem,this)},a.layoutItem=function(e){var i=Math.min.apply(Math,this.columnHeights),c=this.columnHeights.indexOf(i);this.activeColumns[c].appendChild(e),this.columnHeights[c]+=e.offsetHeight||1},a.append=function(e){var i=this.getQueryItems(e);this.items=this.items.concat(i),this.layoutItems(i)},a.prepend=function(e){var i=this.getQueryItems(e);this.items=i.concat(this.items),this._layout()},a.getQueryItems=function(e){e=l(e);var i=document.createDocumentFragment();return e.forEach(function(c){i.appendChild(c)}),h(this.options.items,i)},a.measureColumnHeight=function(e){var i=this.element.getBoundingClientRect();this.activeColumns.forEach(function(c,g){if(!e||c.contains(e)){var w=c.lastElementChild.getBoundingClientRect();this.columnHeights[g]=w.bottom-i.top}},this)},a.onWindowResize=function(){clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){this.onDebouncedResize()}.bind(this),100)},a.onDebouncedResize=function(){var e=this.getActiveColumns(),i=e.length==this.activeColumns.length,c=!0;this.activeColumns.forEach(function(g,w){c=c&&g==e[w]}),!(i&&c)&&(this.activeColumns=e,this._layout())},a.onLoad=function(e){this.measureColumnHeight(e.target)},a.destroy=function(){this.items.forEach(function(e){this.element.appendChild(e)},this),window.removeEventListener("resize",this._windowResizeHandler),this.element.removeEventListener("load",this._loadHandler,!0),delete this.element.colcadeGUID,delete u[this.guid]},_(function(){var e=h("[data-colcade]");e.forEach(o)});function o(e){var i=e.getAttribute("data-colcade"),c=i.split(","),g={};c.forEach(function(w){var I=w.split(":"),y=I[0].trim(),b=I[1].trim();g[y]=b}),new t(e,g)}t.data=function(e){e=m(e);var i=e&&e.colcadeGUID;return i&&u[i]},t.makeJQueryPlugin=function(e){if(e=e||window.jQuery,!e)return;e.fn.colcade=function(g){if(typeof g=="string"){var w=Array.prototype.slice.call(arguments,1);return i(this,g,w)}return c(this,g),this};function i(g,w,I){var y;return g.each(function(b,j){var z=e.data(j,"colcade");if(!!z){var M=z[w].apply(z,I);y=y===void 0?M:y}}),y!==void 0?y:g}function c(g,w){g.each(function(I,y){var b=e.data(y,"colcade");b?(b.option(w),b.layout()):(b=new t(y,w),e.data(y,"colcade",b))})}},t.makeJQueryPlugin();function d(e,i){for(var c in i)e[c]=i[c];return e}function l(e){var i=[];if(Array.isArray(e))i=e;else if(e&&typeof e.length=="number")for(var c=0;c<e.length;c++)i.push(e[c]);else i.push(e);return i}function h(e,i){i=i||document;var c=i.querySelectorAll(e);return l(c)}function m(e){return typeof e=="string"&&(e=document.querySelector(e)),e}function _(e){if(document.readyState=="complete"){e();return}document.addEventListener("DOMContentLoaded",e)}return t})})($);var fe=$.exports;function ge(r){const n=document.lazyLoadInstance;if(window.location.origin!=="http://jsdom.ssr")return n.update(),{update(t){ae.resetStatus(r),n.update()}}}function pe(r){let n,t,a,s,u,o,d,l=r[0].label+"",h,m,_,e,i,c,g,w,I,y,b=r[0].label+"",j,z,M,Q;return{c(){n=v("div"),t=v("div"),a=v("div"),s=v("div"),u=v("div"),o=v("div"),d=v("h5"),h=T(l),m=E(),_=v("img"),w=E(),I=v("div"),y=v("h5"),j=T(b),f(d,"class","label"),f(o,"class","label-container svelte-l6jqiu"),f(u,"class","hover-container svelte-l6jqiu"),f(_,"width",e=r[0].width),f(_,"height",i=r[0].height),f(_,"class","image lazy svelte-l6jqiu"),f(_,"data-src",c=r[0].url),f(_,"alt",""),f(s,"class","image-container svelte-l6jqiu"),F(a,"padding-bottom",r[0].height/r[0].width*100+"%"),f(a,"class","aspect-ratio-box svelte-l6jqiu"),f(y,"class","label"),f(I,"class","label-container svelte-l6jqiu"),f(n,"class",z="item-container "+r[2].category+" svelte-l6jqiu"),J(n,"image-container-margin",r[1]||r[2].category==="design")},m(C,k){L(C,n,k),p(n,t),p(t,a),p(a,s),p(s,u),p(u,o),p(o,d),p(d,h),p(s,m),p(s,_),p(t,w),p(t,I),p(I,y),p(y,j),M||(Q=[oe(g=ge.call(null,_,r[0].url)),le(n,"click",r[4])],M=!0)},p(C,[k]){k&1&&l!==(l=C[0].label+"")&&O(h,l),k&1&&e!==(e=C[0].width)&&f(_,"width",e),k&1&&i!==(i=C[0].height)&&f(_,"height",i),k&1&&c!==(c=C[0].url)&&f(_,"data-src",c),g&&se(g.update)&&k&1&&g.update.call(null,C[0].url),k&1&&F(a,"padding-bottom",C[0].height/C[0].width*100+"%"),k&1&&b!==(b=C[0].label+"")&&O(j,b),k&4&&z!==(z="item-container "+C[2].category+" svelte-l6jqiu")&&f(n,"class",z),k&6&&J(n,"image-container-margin",C[1]||C[2].category==="design")},i:V,o:V,d(C){C&&S(n),M=!1,re(Q)}}}function ve(r,n,t){let a,s;D(r,W,l=>t(2,a=l)),D(r,G,l=>t(3,s=l));let{img:u}=n,{modal:o}=n;const d=()=>{["private-homes","multi-units"].includes(a.pages)?G.openModal(u,"spec"):G.openModal(u,"basic"),u.label.replace(/\s/g,""),fetch(`${window.location.origin==="http://jsdom.ssr"?"http://localhost:9999":window.location.origin}/.netlify/functions/get-full-images/?category=${a.pages}&property=${s.selected.key}`).then(h=>h.json()).then(async h=>{ce(G,s.images=h,s),await X()})};return r.$$set=l=>{"img"in l&&t(0,u=l.img),"modal"in l&&t(1,o=l.modal)},[u,o,a,s,d]}class x extends B{constructor(n){super();U(this,n,ve,pe,P,{img:0,modal:1})}}function ee(r,n,t){const a=r.slice();return a[10]=n[t],a}function te(r,n,t){const a=r.slice();return a[10]=n[t],a}function _e(r){let n,t,a=r[2],s=[];for(let o=0;o<a.length;o+=1)s[o]=ie(ee(r,a,o));const u=o=>H(s[o],1,1,()=>{s[o]=null});return{c(){n=v("div");for(let o=0;o<s.length;o+=1)s[o].c();f(n,"class","na-masonry-container svelte-kc6cgm")},m(o,d){L(o,n,d);for(let l=0;l<s.length;l+=1)s[l].m(n,null);t=!0},p(o,d){if(d&15){a=o[2];let l;for(l=0;l<a.length;l+=1){const h=ee(o,a,l);s[l]?(s[l].p(h,d),q(s[l],1)):(s[l]=ie(h),s[l].c(),q(s[l],1),s[l].m(n,null))}for(R(),l=a.length;l<s.length;l+=1)u(l);A()}},i(o){if(!t){for(let d=0;d<a.length;d+=1)q(s[d]);t=!0}},o(o){s=s.filter(Boolean);for(let d=0;d<s.length;d+=1)H(s[d]);t=!1},d(o){o&&S(n),Z(s,o)}}}function ye(r){let n,t,a,s,u,o,d,l,h=r[2],m=[];for(let e=0;e<h.length;e+=1)m[e]=ne(te(r,h,e));const _=e=>H(m[e],1,1,()=>{m[e]=null});return{c(){n=v("div"),t=v("div"),a=E(),s=v("div"),u=E(),o=v("div"),d=E();for(let e=0;e<m.length;e+=1)m[e].c();f(t,"class","grid-col grid-col--1 svelte-kc6cgm"),f(s,"class","grid-col grid-col--2 svelte-kc6cgm"),f(o,"class","grid-col grid-col--3 svelte-kc6cgm"),f(n,"class","container masonry-container svelte-kc6cgm")},m(e,i){L(e,n,i),p(n,t),p(n,a),p(n,s),p(n,u),p(n,o),p(n,d);for(let c=0;c<m.length;c+=1)m[c].m(n,null);r[6](n),l=!0},p(e,i){if(i&15){h=e[2];let c;for(c=0;c<h.length;c+=1){const g=te(e,h,c);m[c]?(m[c].p(g,i),q(m[c],1)):(m[c]=ne(g),m[c].c(),q(m[c],1),m[c].m(n,null))}for(R(),c=h.length;c<m.length;c+=1)_(c);A()}},i(e){if(!l){for(let i=0;i<h.length;i+=1)q(m[i]);l=!0}},o(e){m=m.filter(Boolean);for(let i=0;i<m.length;i+=1)H(m[i]);l=!1},d(e){e&&S(n),Z(m,e),r[6](null)}}}function ie(r){let n,t,a,s;return t=new x({props:{modal:r[0],masonry:r[3],img:r[10],grid:r[1]}}),{c(){n=v("div"),K(t.$$.fragment),a=E(),f(n,"class","na-image-container")},m(u,o){L(u,n,o),N(t,n,null),p(n,a),s=!0},p(u,o){const d={};o&1&&(d.modal=u[0]),o&4&&(d.img=u[10]),o&2&&(d.grid=u[1]),t.$set(d)},i(u){s||(q(t.$$.fragment,u),s=!0)},o(u){H(t.$$.fragment,u),s=!1},d(u){u&&S(n),Y(t)}}}function ne(r){let n,t,a,s;return t=new x({props:{modal:r[0],masonry:r[3],img:r[10],grid:r[1]}}),{c(){n=v("div"),K(t.$$.fragment),a=E(),f(n,"class","grid-item")},m(u,o){L(u,n,o),N(t,n,null),p(n,a),s=!0},p(u,o){const d={};o&1&&(d.modal=u[0]),o&4&&(d.img=u[10]),o&2&&(d.grid=u[1]),t.$set(d)},i(u){s||(q(t.$$.fragment,u),s=!0)},o(u){H(t.$$.fragment,u),s=!1},d(u){u&&S(n),Y(t)}}}function we(r){let n,t,a,s;const u=[ye,_e],o=[];function d(l,h){return l[2].length>=4?0:1}return t=d(r),a=o[t]=u[t](r),{c(){n=v("div"),a.c(),f(n,"class","wrapper svelte-kc6cgm")},m(l,h){L(l,n,h),o[t].m(n,null),s=!0},p(l,[h]){let m=t;t=d(l),t===m?o[t].p(l,h):(R(),H(o[m],1,1,()=>{o[m]=null}),A(),a=o[t],a?a.p(l,h):(a=o[t]=u[t](l),a.c()),q(a,1),a.m(n,null))},i(l){s||(q(a),s=!0)},o(l){H(a),s=!1},d(l){l&&S(n),o[t].d()}}}function Ce(r,n,t){let a,s,u,o;D(r,ue,i=>t(7,s=i)),D(r,W,i=>t(8,u=i)),D(r,me,i=>t(5,o=i));let{modal:d}=n,l,h=[];de(()=>{});let m;function _(){fetch(`${window.location.origin}/.netlify/functions/images/?category=${u.pages}`).then(i=>i.json()).then(async i=>{t(2,h=i),await X(),h.length>=4&&new fe(l,{columns:".grid-col",items:".grid-item"})})}s();function e(i){he[i?"unshift":"push"](()=>{l=i,t(1,l)})}return r.$$set=i=>{"modal"in i&&t(0,d=i.modal)},r.$$.update=()=>{r.$$.dirty&32&&t(4,{page:a}=o,a),r.$$.dirty&16&&_()},[d,l,h,m,a,o,e]}class qe extends B{constructor(n){super();U(this,n,Ce,we,P,{modal:0})}}export{qe as default};
