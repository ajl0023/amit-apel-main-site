import{L as ae,S as B,i as U,s as P,e as p,g as T,f as E,h as f,X as F,q as J,j as L,k as v,a1 as oe,B as le,r as O,V as se,n as V,l as S,D as re,p as D,z as W,$ as ce,a2 as X,y as R,a as H,v as A,t as q,o as ue,F as de,c as K,m as N,d as Y,C as Z}from"./vendor.e1944527.js";import{m as he}from"./marqueeHandlerStore.6791448c.js";import{g as G}from"./store.24c541cf.js";var $={exports:{}};/*!
 * Colcade v0.2.0
 * Lightweight masonry layout
 * by David DeSandro
 * MIT license
 */(function(s){(function(i,t){s.exports?s.exports=t():i.Colcade=t()})(window,function(){function t(e,r){if(e=h(e),e&&e.colcadeGUID){var c=u[e.colcadeGUID];return c.option(r),c}this.element=e,this.options={},this.option(r),this.create()}var n=t.prototype;n.option=function(e){this.options=d(this.options,e)};var l=0,u={};n.create=function(){this.errorCheck();var e=this.guid=++l;this.element.colcadeGUID=e,u[e]=this,this.reload(),this._windowResizeHandler=this.onWindowResize.bind(this),this._loadHandler=this.onLoad.bind(this),window.addEventListener("resize",this._windowResizeHandler),this.element.addEventListener("load",this._loadHandler,!0)},n.errorCheck=function(){var e=[];if(this.element||e.push("Bad element: "+this.element),this.options.columns||e.push("columns option required: "+this.options.columns),this.options.items||e.push("items option required: "+this.options.items),e.length)throw new Error("[Colcade error] "+e.join(". "))},n.reload=function(){this.updateColumns(),this.updateItems(),this.layout()},n.updateColumns=function(){this.columns=m(this.options.columns,this.element)},n.updateItems=function(){this.items=m(this.options.items,this.element)},n.getActiveColumns=function(){return this.columns.filter(function(e){var r=getComputedStyle(e);return r.display!="none"})},n.layout=function(){this.activeColumns=this.getActiveColumns(),this._layout()},n._layout=function(){this.columnHeights=this.activeColumns.map(function(){return 0}),this.layoutItems(this.items)},n.layoutItems=function(e){e.forEach(this.layoutItem,this)},n.layoutItem=function(e){var r=Math.min.apply(Math,this.columnHeights),c=this.columnHeights.indexOf(r);this.activeColumns[c].appendChild(e),this.columnHeights[c]+=e.offsetHeight||1},n.append=function(e){var r=this.getQueryItems(e);this.items=this.items.concat(r),this.layoutItems(r)},n.prepend=function(e){var r=this.getQueryItems(e);this.items=r.concat(this.items),this._layout()},n.getQueryItems=function(e){e=o(e);var r=document.createDocumentFragment();return e.forEach(function(c){r.appendChild(c)}),m(this.options.items,r)},n.measureColumnHeight=function(e){var r=this.element.getBoundingClientRect();this.activeColumns.forEach(function(c,g){if(!e||c.contains(e)){var w=c.lastElementChild.getBoundingClientRect();this.columnHeights[g]=w.bottom-r.top}},this)},n.onWindowResize=function(){clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){this.onDebouncedResize()}.bind(this),100)},n.onDebouncedResize=function(){var e=this.getActiveColumns(),r=e.length==this.activeColumns.length,c=!0;this.activeColumns.forEach(function(g,w){c=c&&g==e[w]}),!(r&&c)&&(this.activeColumns=e,this._layout())},n.onLoad=function(e){this.measureColumnHeight(e.target)},n.destroy=function(){this.items.forEach(function(e){this.element.appendChild(e)},this),window.removeEventListener("resize",this._windowResizeHandler),this.element.removeEventListener("load",this._loadHandler,!0),delete this.element.colcadeGUID,delete u[this.guid]},_(function(){var e=m("[data-colcade]");e.forEach(a)});function a(e){var r=e.getAttribute("data-colcade"),c=r.split(","),g={};c.forEach(function(w){var I=w.split(":"),y=I[0].trim(),b=I[1].trim();g[y]=b}),new t(e,g)}t.data=function(e){e=h(e);var r=e&&e.colcadeGUID;return r&&u[r]},t.makeJQueryPlugin=function(e){if(e=e||window.jQuery,!e)return;e.fn.colcade=function(g){if(typeof g=="string"){var w=Array.prototype.slice.call(arguments,1);return r(this,g,w)}return c(this,g),this};function r(g,w,I){var y;return g.each(function(b,j){var z=e.data(j,"colcade");if(!!z){var M=z[w].apply(z,I);y=y===void 0?M:y}}),y!==void 0?y:g}function c(g,w){g.each(function(I,y){var b=e.data(y,"colcade");b?(b.option(w),b.layout()):(b=new t(y,w),e.data(y,"colcade",b))})}},t.makeJQueryPlugin();function d(e,r){for(var c in r)e[c]=r[c];return e}function o(e){var r=[];if(Array.isArray(e))r=e;else if(e&&typeof e.length=="number")for(var c=0;c<e.length;c++)r.push(e[c]);else r.push(e);return r}function m(e,r){r=r||document;var c=r.querySelectorAll(e);return o(c)}function h(e){return typeof e=="string"&&(e=document.querySelector(e)),e}function _(e){if(document.readyState=="complete"){e();return}document.addEventListener("DOMContentLoaded",e)}return t})})($);var me=$.exports;function fe(s){const i=document.lazyLoadInstance;if(window.location.origin!=="http://jsdom.ssr")return i.update(),{update(t){ae.resetStatus(s),i.update()}}}function ge(s){let i,t,n,l,u,a,d,o=s[0].label+"",m,h,_,e,r,c,g,w,I,y,b=s[0].label+"",j,z,M,Q;return{c(){i=p("div"),t=p("div"),n=p("div"),l=p("div"),u=p("div"),a=p("div"),d=p("h5"),m=T(o),h=E(),_=p("img"),w=E(),I=p("div"),y=p("h5"),j=T(b),f(d,"class","label"),f(a,"class","label-container svelte-l6jqiu"),f(u,"class","hover-container svelte-l6jqiu"),f(_,"width",e=s[0].width),f(_,"height",r=s[0].height),f(_,"class","image lazy svelte-l6jqiu"),f(_,"data-src",c=s[0].url),f(_,"alt",""),f(l,"class","image-container svelte-l6jqiu"),F(n,"padding-bottom",s[0].height/s[0].width*100+"%"),f(n,"class","aspect-ratio-box svelte-l6jqiu"),f(y,"class","label"),f(I,"class","label-container svelte-l6jqiu"),f(i,"class",z="item-container "+s[2].category+" svelte-l6jqiu"),J(i,"image-container-margin",s[1]||s[2].category==="design")},m(C,k){L(C,i,k),v(i,t),v(t,n),v(n,l),v(l,u),v(u,a),v(a,d),v(d,m),v(l,h),v(l,_),v(t,w),v(t,I),v(I,y),v(y,j),M||(Q=[oe(g=fe.call(null,_,s[0].url)),le(i,"click",s[4])],M=!0)},p(C,[k]){k&1&&o!==(o=C[0].label+"")&&O(m,o),k&1&&e!==(e=C[0].width)&&f(_,"width",e),k&1&&r!==(r=C[0].height)&&f(_,"height",r),k&1&&c!==(c=C[0].url)&&f(_,"data-src",c),g&&se(g.update)&&k&1&&g.update.call(null,C[0].url),k&1&&F(n,"padding-bottom",C[0].height/C[0].width*100+"%"),k&1&&b!==(b=C[0].label+"")&&O(j,b),k&4&&z!==(z="item-container "+C[2].category+" svelte-l6jqiu")&&f(i,"class",z),k&6&&J(i,"image-container-margin",C[1]||C[2].category==="design")},i:V,o:V,d(C){C&&S(i),M=!1,re(Q)}}}function ve(s,i,t){let n,l;D(s,W,o=>t(2,n=o)),D(s,G,o=>t(3,l=o));let{img:u}=i,{modal:a}=i;const d=()=>{["private-homes","multi-units"].includes(n.pages)?G.openModal(u,"spec"):G.openModal(u,"basic"),u.label.replace(/\s/g,""),fetch(`${window.location.origin==="http://jsdom.ssr"?"http://localhost:9999":window.location.origin}/.netlify/functions/get-full-images/?category=${n.pages}&property=${l.selected.key}`).then(m=>m.json()).then(async m=>{ce(G,l.images=m,l),await X()})};return s.$$set=o=>{"img"in o&&t(0,u=o.img),"modal"in o&&t(1,a=o.modal)},[u,a,n,l,d]}class x extends B{constructor(i){super();U(this,i,ve,ge,P,{img:0,modal:1})}}function ee(s,i,t){const n=s.slice();return n[9]=i[t],n}function te(s,i,t){const n=s.slice();return n[9]=i[t],n}function pe(s){let i,t,n=s[2],l=[];for(let a=0;a<n.length;a+=1)l[a]=ie(ee(s,n,a));const u=a=>H(l[a],1,1,()=>{l[a]=null});return{c(){i=p("div");for(let a=0;a<l.length;a+=1)l[a].c();f(i,"class","na-masonry-container svelte-kc6cgm")},m(a,d){L(a,i,d);for(let o=0;o<l.length;o+=1)l[o].m(i,null);t=!0},p(a,d){if(d&15){n=a[2];let o;for(o=0;o<n.length;o+=1){const m=ee(a,n,o);l[o]?(l[o].p(m,d),q(l[o],1)):(l[o]=ie(m),l[o].c(),q(l[o],1),l[o].m(i,null))}for(R(),o=n.length;o<l.length;o+=1)u(o);A()}},i(a){if(!t){for(let d=0;d<n.length;d+=1)q(l[d]);t=!0}},o(a){l=l.filter(Boolean);for(let d=0;d<l.length;d+=1)H(l[d]);t=!1},d(a){a&&S(i),Z(l,a)}}}function _e(s){let i,t,n,l,u,a,d,o,m=s[2],h=[];for(let e=0;e<m.length;e+=1)h[e]=ne(te(s,m,e));const _=e=>H(h[e],1,1,()=>{h[e]=null});return{c(){i=p("div"),t=p("div"),n=E(),l=p("div"),u=E(),a=p("div"),d=E();for(let e=0;e<h.length;e+=1)h[e].c();f(t,"class","grid-col grid-col--1 svelte-kc6cgm"),f(l,"class","grid-col grid-col--2 svelte-kc6cgm"),f(a,"class","grid-col grid-col--3 svelte-kc6cgm"),f(i,"class","container masonry-container svelte-kc6cgm")},m(e,r){L(e,i,r),v(i,t),v(i,n),v(i,l),v(i,u),v(i,a),v(i,d);for(let c=0;c<h.length;c+=1)h[c].m(i,null);s[6](i),o=!0},p(e,r){if(r&15){m=e[2];let c;for(c=0;c<m.length;c+=1){const g=te(e,m,c);h[c]?(h[c].p(g,r),q(h[c],1)):(h[c]=ne(g),h[c].c(),q(h[c],1),h[c].m(i,null))}for(R(),c=m.length;c<h.length;c+=1)_(c);A()}},i(e){if(!o){for(let r=0;r<m.length;r+=1)q(h[r]);o=!0}},o(e){h=h.filter(Boolean);for(let r=0;r<h.length;r+=1)H(h[r]);o=!1},d(e){e&&S(i),Z(h,e),s[6](null)}}}function ie(s){let i,t,n,l;return t=new x({props:{modal:s[0],masonry:s[3],img:s[9],grid:s[1]}}),{c(){i=p("div"),K(t.$$.fragment),n=E(),f(i,"class","na-image-container")},m(u,a){L(u,i,a),N(t,i,null),v(i,n),l=!0},p(u,a){const d={};a&1&&(d.modal=u[0]),a&4&&(d.img=u[9]),a&2&&(d.grid=u[1]),t.$set(d)},i(u){l||(q(t.$$.fragment,u),l=!0)},o(u){H(t.$$.fragment,u),l=!1},d(u){u&&S(i),Y(t)}}}function ne(s){let i,t,n,l;return t=new x({props:{modal:s[0],masonry:s[3],img:s[9],grid:s[1]}}),{c(){i=p("div"),K(t.$$.fragment),n=E(),f(i,"class","grid-item")},m(u,a){L(u,i,a),N(t,i,null),v(i,n),l=!0},p(u,a){const d={};a&1&&(d.modal=u[0]),a&4&&(d.img=u[9]),a&2&&(d.grid=u[1]),t.$set(d)},i(u){l||(q(t.$$.fragment,u),l=!0)},o(u){H(t.$$.fragment,u),l=!1},d(u){u&&S(i),Y(t)}}}function ye(s){let i,t,n,l;const u=[_e,pe],a=[];function d(o,m){return o[2].length>=4?0:1}return t=d(s),n=a[t]=u[t](s),{c(){i=p("div"),n.c(),f(i,"class","wrapper svelte-kc6cgm")},m(o,m){L(o,i,m),a[t].m(i,null),l=!0},p(o,[m]){let h=t;t=d(o),t===h?a[t].p(o,m):(R(),H(a[h],1,1,()=>{a[h]=null}),A(),n=a[t],n?n.p(o,m):(n=a[t]=u[t](o),n.c()),q(n,1),n.m(i,null))},i(o){l||(q(n),l=!0)},o(o){H(n),l=!1},d(o){o&&S(i),a[t].d()}}}function we(s,i,t){let n,l,u;D(s,W,e=>t(7,l=e)),D(s,he,e=>t(5,u=e));let{modal:a}=i,d,o=[];ue(()=>{});let m;function h(){fetch(`${window.location.origin}/.netlify/functions/images/?category=${l.pages}`).then(e=>e.json()).then(async e=>{t(2,o=e),await X(),o.length>=4&&new me(d,{columns:".grid-col",items:".grid-item"})})}function _(e){de[e?"unshift":"push"](()=>{d=e,t(1,d)})}return s.$$set=e=>{"modal"in e&&t(0,a=e.modal)},s.$$.update=()=>{s.$$.dirty&32&&t(4,{page:n}=u,n),s.$$.dirty&16&&h()},[a,d,o,m,n,u,_]}class Ie extends B{constructor(i){super();U(this,i,we,ye,P,{modal:0})}}export{Ie as default};
