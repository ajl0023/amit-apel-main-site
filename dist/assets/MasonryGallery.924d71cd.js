import{L as ae,S as T,i as W,s as J,e as _,g as A,f as E,h as g,T as O,q as G,j as C,k as y,a1 as re,B as ce,r as P,W as ue,n as N,l as j,D as de,p as M,z as V,$ as fe,a2 as K,C as Q,y as U,a as S,v as B,t as q,a3 as he,u as me,o as ge,F as pe,c as X,m as Y,d as Z,G as ve}from"./vendor.dd6c9341.js";import{m as _e,p as ye}from"./marqueeHandlerStore.7bab2a9b.js";import{g as R}from"./store.e08f1237.js";var $={exports:{}};/*!
 * Colcade v0.2.0
 * Lightweight masonry layout
 * by David DeSandro
 * MIT license
 */(function(a){(function(s,l){a.exports?a.exports=l():s.Colcade=l()})(window,function(){function l(e,r){if(e=h(e),e&&e.colcadeGUID){var d=n[e.colcadeGUID];return d.option(r),d}this.element=e,this.options={},this.option(r),this.create()}var t=l.prototype;t.option=function(e){this.options=o(this.options,e)};var i=0,n={};t.create=function(){this.errorCheck();var e=this.guid=++i;this.element.colcadeGUID=e,n[e]=this,this.reload(),this._windowResizeHandler=this.onWindowResize.bind(this),this._loadHandler=this.onLoad.bind(this),window.addEventListener("resize",this._windowResizeHandler),this.element.addEventListener("load",this._loadHandler,!0)},t.errorCheck=function(){var e=[];if(this.element||e.push("Bad element: "+this.element),this.options.columns||e.push("columns option required: "+this.options.columns),this.options.items||e.push("items option required: "+this.options.items),e.length)throw new Error("[Colcade error] "+e.join(". "))},t.reload=function(){this.updateColumns(),this.updateItems(),this.layout()},t.updateColumns=function(){this.columns=f(this.options.columns,this.element)},t.updateItems=function(){this.items=f(this.options.items,this.element)},t.getActiveColumns=function(){return this.columns.filter(function(e){var r=getComputedStyle(e);return r.display!="none"})},t.layout=function(){this.activeColumns=this.getActiveColumns(),this._layout()},t._layout=function(){this.columnHeights=this.activeColumns.map(function(){return 0}),this.layoutItems(this.items)},t.layoutItems=function(e){e.forEach(this.layoutItem,this)},t.layoutItem=function(e){var r=Math.min.apply(Math,this.columnHeights),d=this.columnHeights.indexOf(r);this.activeColumns[d].appendChild(e),this.columnHeights[d]+=e.offsetHeight||1},t.append=function(e){var r=this.getQueryItems(e);this.items=this.items.concat(r),this.layoutItems(r)},t.prepend=function(e){var r=this.getQueryItems(e);this.items=r.concat(this.items),this._layout()},t.getQueryItems=function(e){e=u(e);var r=document.createDocumentFragment();return e.forEach(function(d){r.appendChild(d)}),f(this.options.items,r)},t.measureColumnHeight=function(e){var r=this.element.getBoundingClientRect();this.activeColumns.forEach(function(d,v){if(!e||d.contains(e)){var b=d.lastElementChild.getBoundingClientRect();this.columnHeights[v]=b.bottom-r.top}},this)},t.onWindowResize=function(){clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){this.onDebouncedResize()}.bind(this),100)},t.onDebouncedResize=function(){var e=this.getActiveColumns(),r=e.length==this.activeColumns.length,d=!0;this.activeColumns.forEach(function(v,b){d=d&&v==e[b]}),!(r&&d)&&(this.activeColumns=e,this._layout())},t.onLoad=function(e){this.measureColumnHeight(e.target)},t.destroy=function(){this.items.forEach(function(e){this.element.appendChild(e)},this),window.removeEventListener("resize",this._windowResizeHandler),this.element.removeEventListener("load",this._loadHandler,!0),delete this.element.colcadeGUID,delete n[this.guid]},m(function(){var e=f("[data-colcade]");e.forEach(c)});function c(e){var r=e.getAttribute("data-colcade"),d=r.split(","),v={};d.forEach(function(b){var I=b.split(":"),p=I[0].trim(),w=I[1].trim();v[p]=w}),new l(e,v)}l.data=function(e){e=h(e);var r=e&&e.colcadeGUID;return r&&n[r]},l.makeJQueryPlugin=function(e){if(e=e||window.jQuery,!e)return;e.fn.colcade=function(v){if(typeof v=="string"){var b=Array.prototype.slice.call(arguments,1);return r(this,v,b)}return d(this,v),this};function r(v,b,I){var p;return v.each(function(w,z){var L=e.data(z,"colcade");if(!!L){var D=L[b].apply(L,I);p=p===void 0?D:p}}),p!==void 0?p:v}function d(v,b){v.each(function(I,p){var w=e.data(p,"colcade");w?(w.option(b),w.layout()):(w=new l(p,b),e.data(p,"colcade",w))})}},l.makeJQueryPlugin();function o(e,r){for(var d in r)e[d]=r[d];return e}function u(e){var r=[];if(Array.isArray(e))r=e;else if(e&&typeof e.length=="number")for(var d=0;d<e.length;d++)r.push(e[d]);else r.push(e);return r}function f(e,r){r=r||document;var d=r.querySelectorAll(e);return u(d)}function h(e){return typeof e=="string"&&(e=document.querySelector(e)),e}function m(e){if(document.readyState=="complete"){e();return}document.addEventListener("DOMContentLoaded",e)}return l})})($);var be=$.exports;function we(a){const s=document.lazyLoadInstance;if(window.location.origin!=="http://jsdom.ssr")return s.update(),{update(l){ae.resetStatus(a),s.update()}}}function ke(a){let s,l,t,i,n,c,o,u=a[0].label+"",f,h,m,e,r,d,v,b,I,p,w=a[0].label+"",z,L,D,F;return{c(){s=_("div"),l=_("div"),t=_("div"),i=_("div"),n=_("div"),c=_("div"),o=_("h5"),f=A(u),h=E(),m=_("img"),b=E(),I=_("div"),p=_("h5"),z=A(w),g(o,"class","label"),g(c,"class","label-container svelte-l6jqiu"),g(n,"class","hover-container svelte-l6jqiu"),g(m,"width",e=a[0].width),g(m,"height",r=a[0].height),g(m,"class","image lazy svelte-l6jqiu"),g(m,"data-src",d=a[0].url),g(m,"alt",""),g(i,"class","image-container svelte-l6jqiu"),O(t,"padding-bottom",a[0].height/a[0].width*100+"%"),g(t,"class","aspect-ratio-box svelte-l6jqiu"),g(p,"class","label"),g(I,"class","label-container svelte-l6jqiu"),g(s,"class",L="item-container "+a[2].category+" svelte-l6jqiu"),G(s,"image-container-margin",a[1]||a[2].category==="design")},m(k,H){C(k,s,H),y(s,l),y(l,t),y(t,i),y(i,n),y(n,c),y(c,o),y(o,f),y(i,h),y(i,m),y(l,b),y(l,I),y(I,p),y(p,z),D||(F=[re(v=we.call(null,m,a[0].url)),ce(s,"click",a[4])],D=!0)},p(k,[H]){H&1&&u!==(u=k[0].label+"")&&P(f,u),H&1&&e!==(e=k[0].width)&&g(m,"width",e),H&1&&r!==(r=k[0].height)&&g(m,"height",r),H&1&&d!==(d=k[0].url)&&g(m,"data-src",d),v&&ue(v.update)&&H&1&&v.update.call(null,k[0].url),H&1&&O(t,"padding-bottom",k[0].height/k[0].width*100+"%"),H&1&&w!==(w=k[0].label+"")&&P(z,w),H&4&&L!==(L="item-container "+k[2].category+" svelte-l6jqiu")&&g(s,"class",L),H&6&&G(s,"image-container-margin",k[1]||k[2].category==="design")},i:N,o:N,d(k){k&&j(s),D=!1,de(F)}}}function Ce(a,s,l){let t,i;M(a,V,u=>l(2,t=u)),M(a,R,u=>l(3,i=u));let{img:n}=s,{modal:c}=s;const o=()=>{["private-homes","multi-units"].includes(t.pages)?R.openModal(n,"spec"):R.openModal(n,"basic"),n.label.replace(/\s/g,""),fetch(`${window.location.origin==="http://jsdom.ssr"?"http://localhost:9999":window.location.origin}/.netlify/functions/get-full-images/?category=${t.pages}${t.pages==="private-homes"?`&subCategory=${n.category}`:""}&property=${i.selected.key}`).then(f=>f.json()).then(async f=>{fe(R,i.images=f,i),await K()})};return a.$$set=u=>{"img"in u&&l(0,n=u.img),"modal"in u&&l(1,c=u.modal)},[n,c,t,i,o]}class x extends T{constructor(s){super();W(this,s,Ce,ke,J,{img:0,modal:1})}}function ee(a,s,l){const t=a.slice();return t[15]=s[l],t}function te(a,s,l){const t=a.slice();return t[15]=s[l],t}function ie(a,s,l){const t=a.slice();return t[20]=s[l],t}function ne(a){let s,l,t=a[5],i=[];for(let n=0;n<t.length;n+=1)i[n]=le(ie(a,t,n));return{c(){s=_("div"),l=_("ul");for(let n=0;n<i.length;n+=1)i[n].c();g(l,"class","category-list svelte-slkysj"),g(s,"class","category-container svelte-slkysj")},m(n,c){C(n,s,c),y(s,l);for(let o=0;o<i.length;o+=1)i[o].m(l,null)},p(n,c){if(c&112){t=n[5];let o;for(o=0;o<t.length;o+=1){const u=ie(n,t,o);i[o]?i[o].p(u,c):(i[o]=le(u),i[o].c(),i[o].m(l,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=t.length}},d(n){n&&j(s),Q(i,n)}}}function le(a){let s,l,t,i=a[20].name+"",n,c,o;return{c(){s=_("li"),l=_("h4"),t=_("a"),n=A(i),o=E(),g(t,"class","category-link svelte-slkysj"),g(t,"href",c=a[6]("./",{sub_category:a[20].urlFormatted})),G(t,"selected",a[4]===a[20].urlFormatted),g(l,"class","category-header"),g(s,"class","category-item svelte-slkysj")},m(u,f){C(u,s,f),y(s,l),y(l,t),y(t,n),y(s,o)},p(u,f){f&32&&i!==(i=u[20].name+"")&&P(n,i),f&96&&c!==(c=u[6]("./",{sub_category:u[20].urlFormatted}))&&g(t,"href",c),f&48&&G(t,"selected",u[4]===u[20].urlFormatted)},d(u){u&&j(s)}}}function je(a){let s,l,t=a[3],i=[];for(let c=0;c<t.length;c+=1)i[c]=se(ee(a,t,c));const n=c=>S(i[c],1,1,()=>{i[c]=null});return{c(){s=_("div");for(let c=0;c<i.length;c+=1)i[c].c();g(s,"class","na-masonry-container svelte-slkysj")},m(c,o){C(c,s,o);for(let u=0;u<i.length;u+=1)i[u].m(s,null);l=!0},p(c,o){if(o&141){t=c[3];let u;for(u=0;u<t.length;u+=1){const f=ee(c,t,u);i[u]?(i[u].p(f,o),q(i[u],1)):(i[u]=se(f),i[u].c(),q(i[u],1),i[u].m(s,null))}for(U(),u=t.length;u<i.length;u+=1)n(u);B()}},i(c){if(!l){for(let o=0;o<t.length;o+=1)q(i[o]);l=!0}},o(c){i=i.filter(Boolean);for(let o=0;o<i.length;o+=1)S(i[o]);l=!1},d(c){c&&j(s),Q(i,c)}}}function Ie(a){let s,l,t,i,n,c,o,u,f=a[3],h=[];for(let e=0;e<f.length;e+=1)h[e]=oe(te(a,f,e));const m=e=>S(h[e],1,1,()=>{h[e]=null});return{c(){s=_("div"),l=E(),t=_("div"),i=E(),n=_("div"),c=E();for(let e=0;e<h.length;e+=1)h[e].c();o=ve(),g(s,"class","grid-col grid-col--1 svelte-slkysj"),g(t,"class","grid-col grid-col--2 svelte-slkysj"),g(n,"class","grid-col grid-col--3 svelte-slkysj")},m(e,r){C(e,s,r),C(e,l,r),C(e,t,r),C(e,i,r),C(e,n,r),C(e,c,r);for(let d=0;d<h.length;d+=1)h[d].m(e,r);C(e,o,r),u=!0},p(e,r){if(r&141){f=e[3];let d;for(d=0;d<f.length;d+=1){const v=te(e,f,d);h[d]?(h[d].p(v,r),q(h[d],1)):(h[d]=oe(v),h[d].c(),q(h[d],1),h[d].m(o.parentNode,o))}for(U(),d=f.length;d<h.length;d+=1)m(d);B()}},i(e){if(!u){for(let r=0;r<f.length;r+=1)q(h[r]);u=!0}},o(e){h=h.filter(Boolean);for(let r=0;r<h.length;r+=1)S(h[r]);u=!1},d(e){e&&j(s),e&&j(l),e&&j(t),e&&j(i),e&&j(n),e&&j(c),Q(h,e),e&&j(o)}}}function se(a){let s,l,t,i;return l=new x({props:{modal:a[0],masonry:a[7],img:a[15],grid:a[2]}}),{c(){s=_("div"),X(l.$$.fragment),t=E(),g(s,"class","na-image-container")},m(n,c){C(n,s,c),Y(l,s,null),y(s,t),i=!0},p(n,c){const o={};c&1&&(o.modal=n[0]),c&8&&(o.img=n[15]),c&4&&(o.grid=n[2]),l.$set(o)},i(n){i||(q(l.$$.fragment,n),i=!0)},o(n){S(l.$$.fragment,n),i=!1},d(n){n&&j(s),Z(l)}}}function oe(a){let s,l,t,i;return l=new x({props:{modal:a[0],masonry:a[7],img:a[15],grid:a[2]}}),{c(){s=_("div"),X(l.$$.fragment),t=E(),g(s,"class","grid-item")},m(n,c){C(n,s,c),Y(l,s,null),y(s,t),i=!0},p(n,c){const o={};c&1&&(o.modal=n[0]),c&8&&(o.img=n[15]),c&4&&(o.grid=n[2]),l.$set(o)},i(n){i||(q(l.$$.fragment,n),i=!0)},o(n){S(l.$$.fragment,n),i=!1},d(n){n&&j(s),Z(l)}}}function He(a){let s,l,t,i,n,c,o=a[1]==="private-homes"&&ne(a);const u=[Ie,je],f=[];function h(m,e){return m[3].length>0?0:1}return i=h(a),n=f[i]=u[i](a),{c(){s=_("div"),o&&o.c(),l=E(),t=_("div"),n.c(),g(t,"class","container masonry-container svelte-slkysj"),g(s,"class","wrapper svelte-slkysj")},m(m,e){C(m,s,e),o&&o.m(s,null),y(s,l),y(s,t),f[i].m(t,null),a[11](t),c=!0},p(m,[e]){m[1]==="private-homes"?o?o.p(m,e):(o=ne(m),o.c(),o.m(s,l)):o&&(o.d(1),o=null);let r=i;i=h(m),i===r?f[i].p(m,e):(U(),S(f[r],1,1,()=>{f[r]=null}),B(),n=f[i],n?n.p(m,e):(n=f[i]=u[i](m),n.c()),q(n,1),n.m(t,null))},i(m){c||(q(n),c=!0)},o(m){S(n),c=!1},d(m){m&&j(s),o&&o.d(),f[i].d(),a[11](null)}}}function qe(a,s,l){let t,i,n,c,o,u;M(a,he,p=>l(13,n=p)),M(a,V,p=>l(9,c=p)),M(a,_e,p=>l(10,o=p)),M(a,me,p=>l(6,u=p));let{modal:f}=s,h,m=[],e,r=[];ge(()=>{});let d,v;async function b(){const w=new URLSearchParams(window.location.search).get("sub_category");t&&(l(4,e=w),l(3,m=[]),fetch(`${window.location.origin}/.netlify/functions/images/?category=${t}${w?`&sub_category=${w}`:""}`).then(z=>z.json()).then(async z=>{l(3,m=z),await K(),v?v.reload():v=new be(h,{columns:".grid-col",items:".grid-item"})}))}n();function I(p){pe[p?"unshift":"push"](()=>{h=p,l(2,h)})}return a.$$set=p=>{"modal"in p&&l(0,f=p.modal)},a.$$.update=()=>{a.$$.dirty&1024&&l(1,{page:t}=o,t),a.$$.dirty&512&&l(8,{sub_category:i}=c,i),a.$$.dirty&2&&t==="private-homes"&&l(5,r=[...ye.pages.byTitle["private-homes"].categories]),a.$$.dirty&258&&b()},[f,t,h,m,e,r,u,d,i,c,o,I]}class Se extends T{constructor(s){super();W(this,s,qe,He,J,{modal:0})}}export{Se as default};
